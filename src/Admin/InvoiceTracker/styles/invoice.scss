.layout{

    .invoice{
        
        .invoice-container{
            
            .invoice-header{
                    display: flex;
                align-items: center;
                justify-content: space-between;
                margin-bottom: 1.5rem;
    
                p{
                    color: #333;
                    font-weight: 500;
                    font-size: 25px;
                }
    
                .search{
                    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.04);
                    background: white;
                    border-radius: 20px;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    padding: .5rem 1rem;
                    padding-right: 1.5rem;
                    gap: .5rem;
    
                    input{
                        border: none;
                        outline: none;
    
                        &:focus{
                            border: none;
                        }
    
                        &::placeholder{
                            font-size: .7em;
                            padding-left: .25rem;
                        }
                    }
    
                    .icon{
                        font-size: 20px;
                        color: black;
    
                    }
                }
    
        }
             .mobile-search{
          display: none;
        }

        .invoice-table-container {
        // background: #fff;
        border-radius: 10px;
        // box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        padding: 20px;

        @media screen and (max-width: 720px) {
            padding: 0;
        }
        }


        .filters-tabs {
        display: flex;
        gap: 12px;
        margin-bottom: 15px;

          overflow-x: auto;        /* allows horizontal scroll */
        white-space: nowrap;     /* prevents buttons from wrapping to next line */
        padding: 0.5rem 0;
        padding-right: 1rem;
        scrollbar-width: none;   /* hides scrollbar on Firefox */
        -ms-overflow-style: none; /* hides scrollbar on Edge/IE */

        &::-webkit-scrollbar {
            display: none;         /* hides scrollbar on Chrome/Safari */
        }
         button {
            flex: 0 0 auto;        /* keeps buttons from shrinking */
        }
        }

        .filters-tabs button {
        border: none;
        background: white;
        padding: 10px 18px;
        border-radius: 10px;
        cursor: pointer;
        color: #555;
        font-weight: 500;
        }

        .filters-tabs button.active {
        background: #d1495b;
        color: white;
        }

        .filters-tabs button.create {
        background: #d1495b;
        margin-right: .5rem;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: .4rem;

        .icon{
            font-size: 20px;
        }

        &:hover{
        background: hsl(352, 60%, 45%);

        }
        }

        .invoice-table {
        width: 100%;
        border-collapse: collapse;

        thead {
    tr {
      border-bottom: 1px solid #e5e7eb;
      text-align: left;
    }

    th {
      padding: 1rem;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: #9ca3af; // Muted text color for headers
      font-weight: 600;
      white-space: nowrap;
    }
  }
        }

        .invoice-table th, .invoice-table td {
        padding: 12px;
        text-align: left;
        border-bottom: 1px solid #f0f0f0;
        }

        .invoice-table tbody tr .no-data-cell{
            line-height: 2;
            align-items: center;
            text-align: center;
            font-size: .8em;
            padding-block: 4rem;
        }

        //options

        .invoice-table tbody tr .actions{
           
            .menu-wrapper{
                position: relative;

                button{
                    cursor: pointer;
                    background: none;
                    border: none;
                    padding: 5px;

                    .menu-icon{
                       font-size: 20px;
                       color: black;
                    }
                }

                .menu-dropdown{
                box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;
                border-radius: 5px;
                position: absolute;
                background: white;
                right: 50%;
                z-index: 10;
                width: 125px;
                display: flex;
                padding: 5px;
                flex-direction: column;
                font-size: .8em;
                
                p{
                        padding: 10px;
                        cursor: pointer;
                        background: hsl(6, 78%, 98.5%);
                        margin-block: .2rem;
                        border-radius: 5px;
                        font-weight: 500;
                        &:hover{
                            background: #d1495b;
                            color: white;
                        }
                    }
                }
            }
        }

        .client-info {
        display: flex;
        align-items: center;
        gap: 10px;
        }

      .client-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        object-fit: cover;
        background: #f5f5f5;
        }


        .client-name {
        font-weight: 600;
        color: #333;
        }

        .client-contact {
        font-size: 12px;
        color: #777;
        }

        /* Status Badges */
        .status {
        display: inline-block;
        padding: 5px 12px;
        border-radius: 12px;
        font-size: 13px;
        font-weight: 600;
        }

        .status.paid {
        background: #e7f8f0;
        color: #1abc9c;
        }

        .status.unpaid {
        background: #fff8e6;
        color: #f9a825;
        }

        .status.overdue {
        background: #fde8e8;
        color: #e74c3c;
        }

        .status.draft {
        background: #e8f4fd;
        color: #3498db;
        }

     .status.partial-payment {
        background: #f3e8ff; /* soft light purple */
        color: #9b59b6;      /* medium purple */
        }


        /* Pagination */
        .pagination {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-top: 15px;
        font-size: 85%;
        }

        .pagination .pages button {
        border: none;
        background: transparent;
        padding: 5px 10px;
        color: #555;
        cursor: pointer;
        }

        .pagination button{
              border: none;
        padding: 5px 10px;
        color: white;
        border-radius: 5px;
        cursor: pointer;
        background: #d1495b;
        padding: 10px 15px;
        font-weight: 500;
        }


                
                }

        }

        .modal{
        position: fixed;
       inset: 0;

        display: grid;
        grid-template-columns: 250px auto;
        gap: 2.5rem;

        align-items: stretch;        /* allow children to take full width */
        padding-block: 2rem;
        overflow: hidden;  
       background: rgba(0, 0, 0, 0.5);
         scrollbar-width: none;    /* hide scrollbar for Firefox */
        -ms-overflow-style: none;
                
        &::-webkit-scrollbar {
         display: none;
        }

        .modal-box{
            display: none; 
        }

      .modal-container {
        display: flex;
        background: white;
        height: 100dvh;
        width: calc(100% - 300px);

        position: fixed;
        right: 0;
        top: 0;

         transform: translateX(100%);
        transition: transform 0.3s ease;

         .modal-container-details {
  padding: 2rem;
  width: 100%;
  overflow-y: auto;
  font-family: sans-serif;
  color: #1f2937;
  padding-top: 50px;
}

.close-modal-btn {
  position: absolute;
  top: 15px;
  right: 15px;
  background: #f1f4f8; /* Light grey to match your theme */
  border: none;
  font-size: 24px;
  cursor: pointer;
  width: 35px;
  height: 35px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  color: #333;
  transition: all 0.3s ease;
  z-index: 10;
}

.close-modal-btn:hover {
  background: #e2e8f0;
  color: #ff4d4d; /* Reddish tint on hover for clear "close" action */
  transform: rotate(90deg); /* Subtle animation flair */
}

/* Header */
.invoice-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 2rem;

  .brand h2 {
    margin: 0;
  }

  p {
    margin: 0.2rem 0;
    font-size: 0.85rem;
    color: #6b7280;
  }
}

/* Invoice info */
.invoice-info {
  display: flex;
  justify-content: space-between;
  margin-bottom: 2rem;

  h4 {
    margin-bottom: 0.5rem;
  }

  p {
    margin: 0.2rem 0;
    font-size: 0.85rem;
  }
}

/* Items */
.invoice-items {
  margin-bottom: 2rem;

  .items-header,
  .item-row {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr;
    padding: 0.75rem 0;
  }

  .items-header {
    font-weight: 600;
    border-bottom: 1px solid #e5e7eb;
  }

  .item-row {
    border-bottom: 1px solid #f1f5f9;
    font-size: 0.9rem;
  }
}

/* Summary */
.invoice-summary {
  width: 300px;
  margin-left: auto;

  .summary-row {
    display: flex;
    justify-content: space-between;
    padding: 0.5rem 0;
  }

  .total {
    font-weight: 700;
    font-size: 1.1rem;
  }
}


        }
        
    }
    
            /* when open */
            .modal.show .modal-container {
            transform: translateX(0);
            }

            //loading screen

            /* Loading Overlay */
            .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(255, 255, 255, 0.9); /* White background with slight transparency */
            z-index: 100000; /* Super high z-index to cover everything */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            }

            .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db; /* Change this color to match your brand */
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
            }

            @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
            }

        /* Variables for easy updates */
$primary-color: #d1495b;
$text-dark: #1f2937;
$text-light: #6b7280;
$border-color: #e5e7eb;
$bg-color: #f9fafb;
$white: #ffffff;

.invoice-form {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.4); // Dimmed background overlay
  backdrop-filter: blur(4px); // Modern glass effect
  z-index: 1000;
  display: flex;
  justify-content: center; // Center the modal
  align-items: flex-start;
  padding: 2rem 1rem;
  overflow-y: auto; // Allow scrolling of the overlay

  .add-invoice-form {
    background: $white;
    width: 100%;
    max-width: 800px; // Restrict width for readability on large screens
    border-radius: 12px;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    padding: 2.5rem;
    position: relative;
    animation: slideUp 0.3s ease-out;

    /* --- Header & Navigation --- */
    .cancel {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      color: $text-light;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 500;
      margin-bottom: 1.5rem;
      transition: color 0.2s;

      &:hover {
        color: $primary-color;
      }

      .icon {
        font-size: 1.2rem;
      }
    }

    h2 {
      font-size: 1.75rem;
      color: $text-dark;
      margin-bottom: 2rem;
      font-weight: 700;
      letter-spacing: -0.025em;
    }

    /* --- Form Sections --- */
    .form-section {
      margin-bottom: 2.5rem;
      padding-bottom: 2rem;
      border-bottom: 1px solid $border-color;

      &:last-child {
        border-bottom: none;
        margin-bottom: 0;
      }

      h3 {
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: $text-light;
        font-weight: 600;
        margin-bottom: 1.25rem;
      }
    }

    /* --- Inputs Layout (Grid System) --- */
    .client-dets, .date-dets, .money-dets {
      display: grid;
      grid-template-columns: 1fr 1fr; // 2 columns by default
      gap: 1.5rem;
    }

    /* Specific overrides for specific sections */
    .client-dets {
       // Make address take full width
       .input-group:last-child {
         grid-column: span 2;
       }
    }

.status-group {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  width: fit-content;

  label {
    font-size: 80%;
    font-weight: 500;
    color: #444;
  }

  select {
    padding: 0.6rem 1rem;
    font-size: 0.9rem;
    border-radius: 8px;
    border: 1px solid #ccc;
    background-color: #fff;
    cursor: pointer;
    outline: none;
    min-width: 180px;
    color: $text-dark;

    // remove default browser arrow
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;

    // custom arrow
    background-image: url("data:image/svg+xml,%3Csvg fill='none' stroke='%23666' stroke-width='2' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6 9l6 6 6-6'%3E%3C/path%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 12px center;
    background-size: 14px;

    &:focus {
   border-color: $primary-color;
    box-shadow: 0 0 0 3px rgba($primary-color, 0.1); // Glow effect
    }
  }
}

    
    .money-dets {
        // Money section usually looks better in 2 columns or aligned right
        align-items: flex-start;
        margin-top: 1.5rem;
    }


    .input-group {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;

      label {
        font-size: 0.9rem;
        font-weight: 500;
        color: $text-dark;
      }

      input, select {
        padding: 0.75rem 1rem;
        border: 1px solid $border-color;
        border-radius: 8px;
        font-size: 0.95rem;
        background-color: #fff;
        transition: all 0.2s;
        color: $text-dark;

        &::placeholder {
          color: #9ca3af;
        }

        &:focus {
          outline: none;
          border-color: $primary-color;
          box-shadow: 0 0 0 3px rgba($primary-color, 0.1); // Glow effect
        }

        &:disabled, &.readonly-input {
          background-color: #f3f4f6;
          color: $text-light;
          cursor: not-allowed;
          border-color: #eee;
        }
      }

      &.bold-balance input {
        color: $primary-color;
        font-weight: 700;
        background-color: #fff1f2; // Light red background for balance
        border-color: #fecdd3;
      }
    }

    /* --- Items Table Section --- */
    .items-header {
      display: grid;
      // Name (3fr) | Qty (0.8fr) | Rate (1.2fr) | Total (1.2fr) | Action (0.5fr)
      grid-template-columns: 3fr 0.8fr 1.2fr 1.2fr 0.5fr; 
      gap: 1rem;
      padding: 0 0.5rem;
      margin-bottom: 0.75rem;

      span {
        font-size: 0.75rem;
        font-weight: 600;
        color: $text-light;
        text-transform: uppercase;
      }
    }

    .items-dets {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;

      .item-input {
        display: grid;
        grid-template-columns: 3fr 0.8fr 1.2fr 1.2fr 0.5fr;
        gap: 1rem;
        align-items: center;
        
        input {
          width: 100%;
          padding: 0.6rem; // Slightly tighter padding for table rows
        }

        .close-btn {
          width: 32px;
          height: 32px;
          border-radius: 6px;
          border: 1px solid #fee2e2;
          background: #fef2f2;
          color: $primary-color;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 1.2rem;
          cursor: pointer;
          transition: 0.2s;

          &:hover {
            background: $primary-color;
            color: white;
            border-color: $primary-color;
          }
        }
      }

      .add-btn {
        margin-top: 1rem;
        align-self: flex-start;
        background: transparent;
        border: 1px dashed $primary-color;
        color: $primary-color;
        padding: 0.75rem 1.5rem;
        border-radius: 8px;
        font-weight: 500;
        cursor: pointer;
        transition: 0.2s;

        &:hover {
          background: #fff1f2;
        }
      }
    }

    /* --- Submit Button --- */
    .submit-btn {
      width: 100%;
      background: $primary-color;
      color: white;
      font-size: 1rem;
      font-weight: 600;
      padding: 1rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0 4px 6px -1px rgba($primary-color, 0.3);
      transition: transform 0.1s, box-shadow 0.2s;

      &:hover {
        background: darken($primary-color, 5%);
        box-shadow: 0 6px 8px -1px rgba($primary-color, 0.4);
      }

      &:active {
        transform: translateY(1px);
      }
    }
  }

  /* --- Mobile Responsiveness --- */
  @media (max-width: 768px) {
    padding: 0; // Full screen on mobile
    background: white;

    .add-invoice-form {
      box-shadow: none;
      border-radius: 0;
      padding: 1.5rem;
      min-height: 100vh; // Ensure it fills screen
    }

    // Stack all grids into 1 column
    .client-dets, .date-dets, .money-dets {
      grid-template-columns: 1fr;
      gap: 1rem;

    //   .input-group:last-child {
    //     grid-column: auto; // Reset address span
    //   }
    }

    // Hide Table Header
    .items-header {
      display: none;
    }

    // Stack Items
    .items-dets .item-input {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      border: 1px solid #eee;
      padding: 1rem;
      border-radius: 8px;
      background: #fafafa;
      position: relative;

      input {
        background: white;
      }
      
      // Make the delete button float top-right on mobile cards
      .close-btn {
        position: absolute;
        top: 0.5rem;
        right: 0.5rem;
        width: 24px;
        height: 24px;
        font-size: 1rem;
      }
    }
  }
}

// Simple slide-up animation
@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
        }

  @media (max-width: 1200px) {
  .layout{

    .invoice{
        padding: 2rem 1rem;

        .invoice-container{

            .invoice-header{
                display: none;
            }

                .mobile-search {
            display: block;
            width: 100%;
            margin-top: 2rem; // Slightly reduced for better mobile flow
            padding: 0 1rem; // Adds safe space on left/right edges
            box-sizing: border-box;

            // 1. Hide this section on Desktop (Screens larger than 768px)
            @media (min-width: 768px) {
                display: none;
            }

            .search {
                width: 100%; // 2. Ensure white box fills the container
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05); // Lighter shadow for mobile
                background: white;
                border-radius: 12px; // Slightly rounder looks better on mobile
                display: flex;
                align-items: center;
                padding: 0.75rem 1rem;
                gap: 0.75rem;
                box-sizing: border-box;

                .icon {
                font-size: 1.25rem; // Use rem for scaling
                color: #6b7280; // Standard gray-500
                flex-shrink: 0; // Prevents icon from getting squashed
                }

                input {
                border: none;
                outline: none;
                background: transparent;
                flex: 1; // 3. Forces input to take all available width
                width: 100%; 
                min-width: 0; // Fixes flexbox overflow issues
                color: #1f2937;
                
                // 4. PREVENTS IOS ZOOM ON FOCUS (Must be 16px)
                font-size: 16px; 

                &:focus {
                    border: none;
                }

                &::placeholder {
                    color: #9ca3af;
                    font-size: 14px; // Placeholder can be smaller visually
                }
                }
            }
            }

            .invoice-table-container{
                margin-top: 2rem;
                padding: 1rem;
                font-size: 85%;
            }

            .client-avatar{
                width: 25px;
                height: 25px;
            }

            .invoice-table thead tr .not-mobile, .invoice-table tbody tr .not-mobile{
                display: none;
            }

        }
    }

    .invoice-form{

        .add-invoice-form{
            width: 90%;

                &::-webkit-scrollbar {
         display: none;
        }

                form{

                    input{
                        width: 90%;
                    }

                    .date-dets{
                        label{
                            text-align: left;
                            width: 100%;
                            justify-content: left;
                            display: flex;
                        }
                    }

                        .client-dets, .date-dets, .money-dets {
      grid-template-columns: 1fr;
      gap: 1rem;

      .input-group:last-child {
        grid-column: auto; // Reset address span
      }
    }

                    
                }

        }
    }
  }
}

  @media (max-width: 850px) {
    .layout{

        .modal{
            font-size: 55% !important;

            .modal-container{
                width: 100%;

                .invoice-header{

                   p{
                    font-size: 0.6em;
                   }
                }

                .invoice-info{

                    p{
                        font-size: 0.6em;
                    }
                }

                .invoice-items{

                    .item-row{

                       font-size: 0.6em;
                    }

                }

                .invoice-summary{
                    .total{
                        font-size: .6em;
                    }
                }
            }
        }
    }
  
}